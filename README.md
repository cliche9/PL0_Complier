# 山东大学编译原理实验 2022 春季学期
## 实验1: PL/0词法分析器
> 把**关键字、算符、界符**称为语言固有的单词；
>
> **标识符、常量**称为用户自定义的单词。
>
> 为此设置两个全程量：NAME，SYM 。
>
> SYM：存放每个单词的类别。
>
> NAME：存放单词值。

### 要完成的任务：

1. 滤掉单词间的空格。
2. **识别关键字**，用查关键字表的方法识别。当单词是关键字时，将对应的类别放在SYM中。如IF的类别为IFSYM，THEN的类别为THENSYM。
3. **识别标识符**，标识符的类别为IDENT，IDENT放在SYM中，标识符本身的值放在NAME中。
4. 拼数，将数的类别NUMBER放在SYM中，数本身的值放在NAME中。
5. **拼由两个字符组成的运算符**，如：>=、<=等等，识别后将类别存放在SYM中。
6. 打印源程序，边读入字符边打印。

**注意：由于一个单词是由一个或多个字符组成的，所以需实现一个读字符过程。**

### 实验步骤

* 构建NAME - SYM映射表：存储到symbol.json中

  ![image-20220424173408638](https://cdn.jsdelivr.net/gh/cliche9/PicBeds/images/2022-04-24%2017-34-09%20image-20220424173408638.png)![image-20220424173421645](https://cdn.jsdelivr.net/gh/cliche9/PicBeds/images/2022-04-24%2017-34-22%20image-20220424173421645.png)![image-20220424173444273](https://cdn.jsdelivr.net/gh/cliche9/PicBeds/images/2022-04-24%2017-34-44%20image-20220424173444273.png)

* 记录上一个字符，逐个读入字符，对读到的字符类型进行处理：

  * 读到数字：

    * 上个字符为数字/字母：继续读入；
    * 上个字符为运算符/界符：保存之前的运算符/界符，然后读入当前数字；

  * 读到字母：

    * 上个字符为字母：继续读入
    * 上个字符为数字/运算符/界符：保存之前的数字/运算符/界符，然后读入当前字母；

  * 读到运算符：**运算符长度限定为1或2**

    * 上个字符为运算符：

      若之前运算符长度为2，保存之前的运算符，然后读入当前运算符；

      否则继续读入；

    * 上一个字符为数字/字母/界符：保存之前的数字/字母/界符，然后读入当前运算符；

  * 读到界符：**界符长度限定为1**

    * 上个字符为数字/字母/运算符/界符：保存之前的数字/字母/运算符/界符，然后读入当前界符；

* 读入完毕后，之前读入的字符若未清空，则将其保存并清空；

## 实验2: PL/0语义分析和中间代码生成

